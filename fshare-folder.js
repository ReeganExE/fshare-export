(()=>{"use strict";var e={764:(e,n,t)=>{function o(e){const n="https://www.fshare.vn";let t="";const r=["folder","file"],i=e,s=[];function c(e){s.push(...e.map((e=>Object.assign(e,{link:`${n}/${r[e.type]}/${e.linkcode}`}))))}return function e(s=`/v3/files/folder?linkcode=${i}&sort=type%2Cname&per-page=50`){return fetch(`${n}/api${s}`,{referrer:`${n}/folder/${i}`,method:"GET",mode:"cors",credentials:"include"}).then((e=>e.json())).then((n=>{const i=n._links.next,s=n.current.name;t||(t=n.current.name);c(n.items.filter((e=>"file"===r[e.type])));return function(e,n){if(!Array.isArray(e))throw new Error("mapSeries requires an Array");const t=new Array(e.length);return e.reduce(((e,o,r,i)=>e.then((()=>n(o,r,i.length))).then((e=>{t[r]=e}))),Promise.resolve()).then((()=>t))}(n.items.filter((e=>"folder"===r[e.type])),(e=>(console.log("Getting subfolder",e.name,e.linkcode),o(e.linkcode).then((e=>e.items))))).then((n=>{if(n.forEach(c),i)return console.log(`Getting ${s}`,i),e(i)}))}))}().then((()=>({items:s,dirName:t})))}t(105),function(e,n){const t=function(){const e=document.createElement("div");return document.body.appendChild(e).attachShadow({mode:"open"}).appendChild(Object.assign(document.createElement("div"),{textContent:"Loading ...",style:"\n      font-weight: bold;\n      width: 200px;\n      background: #9e9e9e;\n      z-index: 321;\n      border-radius: 4px;\n      padding: 10px;\n      text-align: center;\n      color: white;\n      box-shadow: 0px 0px 3px 1px #585858;\n      position: fixed;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);"})),()=>{e.remove()}}();o(e).then((({items:e,dirName:t})=>{console.log(e);const o=e.map((e=>[e.link,e.name,...r(e)].join(","))).join("\n");console.save(o,n||`${t}.csv`)})).finally(t)}(function(){const e=window.angular.element(document.querySelector(".download-folder-container")).scope().folder.breadcumbs;if(e&&e.length)return e[e.length-1].linkcode;return window.location.pathname.split("/folder/")[1]}());function r(e){if(e.beautiSize)return[e.beautiSize,e.beautiSize.split(" ")[0]];const n=(e.size/1048576).toFixed(2);return[`${n} MB`,n]}},105:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),window.console.save=function(e,n){if(!e)return void console.error("Console.save: No data");n||(n="console.json"),"object"==typeof e&&(e=JSON.stringify(e,void 0,2));const t=new Blob([e],{type:"text/json"}),o=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=n,r.href=window.URL.createObjectURL(t),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}}},n={};!function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}(764)})();